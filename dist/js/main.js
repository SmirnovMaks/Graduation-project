(()=>{"use strict";(()=>{const e=document.querySelector(".up"),t=document.querySelector(".header");let o=window.scrollY;t.addEventListener("click",(e=>{if(e.target.closest("ul>li>a")){e.preventDefault();const t=e.target.getAttribute("href");console.log(t),"#services"===t?document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"}):document.querySelector(t).scrollIntoView({behavior:"smooth",block:"center"})}})),window.addEventListener("scroll",(()=>{o=window.scrollY,o>=700?e.style.display="block":o<700&&(e.style.display="none")})),o>=700?e.style.display="block":o<700&&(e.style.display="none"),e.addEventListener("click",(()=>{document.querySelector("body").scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),o=document.querySelector("body");o.addEventListener("click",(o=>{o.target.closest("[data-modal-open]")&&(o.preventDefault(),e.style.display="block",t.style.display="block",(({timing:e,draw:t,duration:o})=>{let l=performance.now();requestAnimationFrame((function s(c){let r=(c-l)/o;r>1&&(r=1);let n=e(r);t(n),r<1&&requestAnimationFrame(s)}))})({duration:500,timing:e=>e,draw(t){e.style.opacity=t}}))})),t.addEventListener("click",(o=>{o.target.closest(".modal-callback")&&!o.target.closest(".modal-close")||(e.style.display="none",t.style.display="none")}))})(),document.querySelector(".top-slider"),document.querySelectorAll(".top-slider .item"),(()=>{const e=document.getElementById("form-callback"),t=e.querySelector('input[name="fio"]'),o=e.querySelector('input[name="tel"]'),l=document.createElement("div");l.classList.add("status-block");const s=(e,o)=>{t.classList.add("success"),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(o,"")})),e.addEventListener("blur",(e=>{""!==e.target.value?(e.target.classList.add("success"),e.target.classList.remove("error")):(e.target.classList.remove("success"),e.target.classList.add("error"))})),e.addEventListener("invalid",(t=>{t.preventDefault(),e.classList.add("error")}))};s(t,/[^а-яА-Я]/),s(o,/[^\d\+]/);try{if(!e)throw new Error("Верните форму на место");e.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=e.querySelectorAll("input"),o=new FormData(e),s={};var c;e.append(l),o.forEach(((e,t)=>{e&&(s[t]=e)})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("success")||(t=!1)})),t})(t)?(l.textContent="Идет отправка",l.style.color="black",(c=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{l.textContent="Отправлено",t.forEach(((e,t)=>{t<2&&(e.value="")})),setTimeout((()=>{l.textContent=""}),3e3)})).catch((e=>{console.log(e),l.textContent="Ошибка...",l.style.color="black"}))):(l.textContent="Ошибка! Введите данные правильно",l.style.color="black",setTimeout((()=>{l.textContent=""}),3e3))})()}))}catch(e){console.log(e.message)}})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),o=e.querySelectorAll(".element-content");e.addEventListener("click",(e=>{if(e.target.closest(".element")){const l=e.target.closest(".element");t.forEach(((e,t)=>{e===l?(e.classList.add("active"),o[t].style.display="block"):(e.classList.remove("active"),o[t].style.display="none")}))}}))})()})();